---
import ArchiveCard from "../components/ArchiveCard.astro";
import Layout from "../layouts/MainLayout.astro";
import { getArchive } from "../utils/content-utils";

const archive = await getArchive()

const years = Object.keys(archive).sort((a, b) => b.localeCompare(a))
---

<Layout title="归档">
    <div class="text-2xl pb-4 font-bold">归档</div>
    <div class="flex flex-col gap-4">
        { years.map(year => <ArchiveCard year={year} posts={archive[year]}></ArchiveCard>) }
    </div>
</Layout>